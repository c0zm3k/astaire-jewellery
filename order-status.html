<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Concierge | Astaire Fine Jewellery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./src/styles/main.css">
</head>

<body class="bg-white">
    <script type="module" src="./src/main.js"></script>

    <!-- Navigation -->
    <nav
        class="flex justify-between items-center px-10 py-8 fixed w-full z-50 bg-white/90 backdrop-blur-sm border-b border-gray-100">
        <div class="nav-link hidden md:block opacity-40">London • Dubai</div>
        <a href="index.html"
            class="text-2xl tracking-[0.8em] serif text-black hover:opacity-60 transition-opacity">ASTAIRE</a>

        <div class="hamburger md:hidden" id="menuToggle">
            <div></div>
            <div></div>
        </div>

        <div class="hidden md:flex space-x-12 items-center">
            <a href="collection.html" class="nav-link">Collections</a>
            <a href="catalogue.html" class="nav-link">Boutique</a>
            <a href="cart.html" class="nav-link">Bag <span id="cartCount"></span></a>
        </div>
    </nav>

    <header class="section-padding pt-48 pb-12 text-center bg-platinum reveal">
        <span class="text-[9px] tracking-[0.8em] uppercase text-gray-400 mb-6 block font-bold">Curated Tracking</span>
        <h1 class="text-7xl italic text-black">Track Order</h1>
    </header>

    <main class="container-wide section-padding pt-12">
        <div class="max-w-2xl mx-auto space-y-24">
            <div class="text-center reveal">
                <p class="text-gray-400 font-light italic text-xl mb-12">
                    Enter your Order Reference to view its current sanctuary stage.
                </p>

                <div
                    class="flex items-end border-b border-gray-100 focus-within:border-black transition-all duration-1000 pb-4">
                    <input type="text" id="tracking-input" placeholder="AST-0000"
                        class="serif text-4xl tracking-[0.4em] uppercase text-center flex-1 bg-transparent border-none outline-none text-black">
                    <button onclick="checkStatus()"
                        class="nav-link pb-4 border-l border-gray-100 pl-8 ml-4 font-bold">Lookup</button>
                </div>
            </div>

            <div id="status-result" class="hidden reveal">
                <!-- Result injected here -->
            </div>
        </div>
    </main>

    <footer class="py-24 border-t border-gray-100 text-center">
        <div class="container-wide text-[9px] tracking-[0.4em] uppercase text-gray-300">
            © 2024 Astaire. Defined by Silence.
        </div>
    </footer>

    <script>
        function checkStatus() {
            const id = document.getElementById('tracking-input').value.trim();
            const resultDiv = document.getElementById('status-result');

            if (!id) return;

            const order = window.Cart.lookupOrder(id);

            if (order) {
                resultDiv.innerHTML = `
                    <div class="bg-platinum p-12 border border-gray-100">
                        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-16 pb-8 border-b border-gray-100 gap-6">
                            <div>
                                <h3 class="text-5xl italic text-black uppercase tracking-widest">${order.id}</h3>
                                <p class="text-[9px] text-gray-400 uppercase tracking-[0.4em] mt-3 font-bold">${order.date}</p>
                            </div>
                            <span class="bg-black text-white px-8 py-3 text-[9px] uppercase tracking-widest font-bold">${order.status}</span>
                        </div>
                        
                        <div class="space-y-6 mb-16">
                           ${order.items.map(item => `
                                <div class="flex justify-between items-center text-[10px] tracking-widest uppercase text-gray-400 pb-4">
                                    <span class="italic text-lg normal-case text-black">${item.name} <span class="text-gray-300 ml-4 font-light text-xs">x ${item.quantity}</span></span>
                                    <span class="text-black italic text-lg font-bold">$${(item.price * item.quantity).toLocaleString()}</span>
                                </div>
                           `).join('')}
                        </div>

                        <div class="flex justify-between items-center pt-12 border-t border-gray-100">
                            <span class="text-[9px] uppercase tracking-widest text-gray-400 font-bold">Consolidation Total</span>
                            <span class="text-4xl italic text-black font-bold">$${order.total.toLocaleString()}</span>
                        </div>
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div class="py-12 text-center">
                        <p class="text-[10px] text-gray-300 uppercase tracking-widest">Verification failed.</p>
                    </div>
                `;
            }
            resultDiv.classList.remove('hidden');
        }
    </script>
</body>

</html>